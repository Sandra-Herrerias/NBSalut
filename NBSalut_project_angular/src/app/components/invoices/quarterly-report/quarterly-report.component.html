<!-- <div class="card">
  <div class="card-header">
    Facturas
  </div>
  <p class="text-danger">You clicked on: <strong>{{ message }}</strong></p>
  <div class="card-body">
    <div class="table-responsive">
      <div class="text-end">
        <button (click)="export()" class="btn btn-success"><i class="bi bi-file-earmark-excel"></i> Excel</button>
      </div>
      <table *ngIf="this.invoices" datatable id="datatable" [dtOptions]="dtOptions"
        class="table table-striped table-hover table-bordered ">
        <thead>
          <tr class="text-uppercase">
            <th><input type="checkbox" [(ngModel)]="isMasterSel" name="send-invoice" (change)="checkUncheckAll()"></th>
           <th></th>
            <th>Nº Factura</th>
            <th>Fecha</th>
            <th>Nombre del paciente</th>
            <th>Dirección</th>
            <th>DNI</th>
            <th>Tratamiento</th>
            <th>Precio</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let invoice of invoicesList; let i = index">
            <td><input type="checkbox" name="send-invoice" [value]="invoice.id" [(ngModel)]="invoice.Selected" (change)="isAllSelected()"></td>
                <td></td>
            <td>{{ invoice.number_invoice }}</td>
            <td>{{ invoice.id }}</td>
            <td>{{ invoice.invoice_date | date:'dd/MM/yyyy' }}</td>
            <td>{{ invoice.first_name }} {{ invoice.last_name }}</td>
            <td>{{ invoice.address }}, {{ invoice.postal_code }}</td>
            <td>{{ invoice.dni }}</td>
            <td>{{ invoice.name }}</td>
            <td>{{ invoice.price }}</td>
          </tr>
        </tbody>
        <tfoot>
          <tr class="text-uppercase">
            <th></th>
            <th>Nº Factura</th>
            <th>Fecha</th>
            <th>Nombre del paciente</th>
            <th>Dirección</th>
            <th>DNI</th>
            <th>Tratamiento</th>
            <th>Precio</th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
 -->

<div class="card">
  <div class="card-header">Lista de factura trimestral</div>
  <div class="card-body">
    <div class="row mb-3">
      <div class="col-sm-12 col-md-4">
        <select class="form-select" [(ngModel)]="params.sent" (change)="getSelected()" aria-label="Default select example">
          <!-- <option selected>Filtros</option> -->
          <option value="" selected>Todo</option>
          <option value="sent">Enviados</option>
          <option value="pending">Pendientes</option>
        </select>
      </div>
      <div class="col-sm-12 col-md-4">
        <!-- <input type="text" ngxDaterangepickerMd [(ngModel)]="selected" (change)="selectedRange()"
          [showClearButton]="true" [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}" placeholder="Seleccionar fechas "
          class="form-control" /> -->
        <input type="text" ngxDaterangepickerMd [showClearButton]="true"
          [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}" [lockStartDate]="false" placeholder="Seleccionar fechas "
          (change)="ngModelChange($event)" class="form-control" />
      </div>

      <div class="col-sm-12 col-md-4">
        <!-- <input type="text" placeholder="Buscar nombre, apellido o DNI" class="form-control" [(ngModel)]="inputSearch"
          (ngModelChange)="search()"> -->
        <div class="input-group">
          <div class="input-group-text" id="btnGroupAddon"><i class="bi bi-search"></i></div>
          <input type="text" placeholder="Buscar nombre, apellido o DNI" class="form-control" [(ngModel)]="inputSearch"
            (ngModelChange)="search()">
        </div>
      </div>
    </div>

    <div class="table-responsive" style="border-radius:10px !important;">
      <table class="table table-bordered table-striped table-hover align-middle text-center">
        <thead>
          <tr class="nb text-white text-uppercase align-middle">
            <th>Nº Factura</th>
            <th>Fecha</th>
            <th>Nombre del paciente</th>
            <th>Dirección</th>
            <th>DNI</th>
            <th>Tratamiento</th>
            <th>Precio</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let invoice of invoices | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage }">
            <!-- <td>{{ invoice.number_invoice }}</td> -->
            <td>{{ invoice.id }}</td>
            <td>{{ invoice.invoice_date | date:'dd/MM/yyyy' }}</td>
            <td>{{ invoice.first_name }} {{ invoice.last_name }}</td>
            <td>{{ invoice.address }}, {{ invoice.postal_code }}</td>
            <td>{{ invoice.dni }}</td>
            <td>{{ invoice.name }}</td>
            <td>{{ invoice.price }} €</td>
            <td>
              <span class="badge rounded-pill" [ngClass]="invoice.sent ? 'bg-success' : 'bg-warning'">
                {{ invoice.sent ? "Enviada" : "Pendiente" }}
              </span>
            </td>
            <!--
            <td>
              <a [routerLink]="['/editinvoice', invoice.id  ]" class="settings" data-toggle="tooltip"><i
                  class="fa-solid fa-pen me-3"></i></a>
              <a href="#" class="delete" data-toggle="tooltip"><i class="fa-solid fa-trash text-danger"></i></a>
            </td> -->
          </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-end">
        <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
      </div>
    </div>
  </div>
</div>
